<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAZI Risk Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .results {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            font-weight: 600;
            color: #555;
        }
        
        .result-value {
            font-weight: 700;
            color: #667eea;
            font-size: 1.1em;
        }
        
        .result-value.large {
            font-size: 1.5em;
            color: #764ba2;
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
        }
        
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
        }
        
        .danger {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
        }
        
        .quick-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .quick-btn {
            padding: 10px;
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .quick-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .quick-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9ff;
        }
        
        @media (max-width: 768px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .quick-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
        }
        
        .info-box strong {
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üíπ Yadeon Risk Calculator</h1>
            <p>Professional Position Sizing & Risk Management Tool</p>
        </div>
        
        <div class="calculator-grid">
            <!-- Left Column: Input Calculator -->
            <div class="card">
                <h2>üìä Position Size Calculator</h2>
                
                <div class="input-group">
                    <label for="accountBalance">Account Balance ($)</label>
                    <input type="number" id="accountBalance" value="10000" min="0" step="100">
                </div>
                
                <div class="input-group">
                    <label for="riskPercent">Risk Per Trade (%)</label>
                    <div class="quick-buttons">
                        <div class="quick-btn active" onclick="setRisk(0.5)">0.5%</div>
                        <div class="quick-btn" onclick="setRisk(0.75)">0.75%</div>
                        <div class="quick-btn" onclick="setRisk(1.0)">1.0%</div>
                    </div>
                    <input type="number" id="riskPercent" value="0.5" min="0.1" max="2" step="0.1">
                </div>
                
                <div class="input-group">
                    <label for="stopLossPips">Stop Loss (Pips)</label>
                    <div class="quick-buttons">
                        <div class="quick-btn" onclick="setStopLoss(15)">15 pips</div>
                        <div class="quick-btn" onclick="setStopLoss(20)">20 pips</div>
                        <div class="quick-btn" onclick="setStopLoss(25)">25 pips</div>
                    </div>
                    <input type="number" id="stopLossPips" value="20" min="5" max="100" step="1">
                </div>
                
                <div class="input-group">
                    <label for="riskReward">Risk-Reward Ratio</label>
                    <select id="riskReward">
                        <option value="2">1:2</option>
                        <option value="3" selected>1:3</option>
                        <option value="4">1:4</option>
                        <option value="5">1:5</option>
                    </select>
                </div>
                
                <button class="btn" onclick="calculate()">Calculate Position Size</button>
                
                <div id="results" class="results" style="display:none;">
                    <div class="result-item">
                        <span class="result-label">Risk Amount:</span>
                        <span class="result-value" id="riskAmount">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Position Size:</span>
                        <span class="result-value large" id="lotSize">0.00 lots</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Take Profit (Pips):</span>
                        <span class="result-value" id="takeProfitPips">0 pips</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Potential Profit:</span>
                        <span class="result-value" id="potentialProfit">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Pip Value (per lot):</span>
                        <span class="result-value">$10</span>
                    </div>
                </div>
                
                <div id="message"></div>
            </div>
            
            <!-- Right Column: Trade Example & Limits -->
            <div class="card">
                <h2>üéØ Trade Example</h2>
                
                <div class="input-group">
                    <label for="entryPrice">Entry Price</label>
                    <input type="number" id="entryPrice" value="1.0920" step="0.0001" min="0">
                </div>
                
                <div class="input-group">
                    <label for="direction">Trade Direction</label>
                    <select id="direction" onchange="updateTradeExample()">
                        <option value="buy">BUY (Long)</option>
                        <option value="sell">SELL (Short)</option>
                    </select>
                </div>
                
                <button class="btn" onclick="generateTradeExample()">Generate Trade Setup</button>
                
                <div id="tradeExample" class="results" style="display:none;">
                    <div class="result-item">
                        <span class="result-label">Entry Price:</span>
                        <span class="result-value" id="exEntry">0.0000</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Stop Loss:</span>
                        <span class="result-value" id="exStop">0.0000</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Take Profit:</span>
                        <span class="result-value" id="exTarget">0.0000</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Position Size:</span>
                        <span class="result-value large" id="exLotSize">0.00 lots</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Max Loss:</span>
                        <span class="result-value" id="exMaxLoss">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Max Profit:</span>
                        <span class="result-value" id="exMaxProfit">$0</span>
                    </div>
                </div>
                
                <div class="info-box" style="margin-top: 20px;">
                    <strong>üí° Prop Firm Limits:</strong><br>
                    Daily Loss: <span id="dailyLoss">$500</span> (5%)<br>
                    Max Loss: <span id="maxLoss">$1,000</span> (10%)<br>
                    Balance Floor: <span id="balanceFloor">$9,000</span>
                </div>
            </div>
        </div>
        
        <!-- Full Width: Position Sizing Table -->
        <div class="card">
            <h2>üìã Quick Reference: Position Sizing Table</h2>
            <div class="table-container">
                <table id="positionTable">
                    <thead>
                        <tr>
                            <th>Stop Loss (Pips)</th>
                            <th>0.5% Risk ($50)</th>
                            <th>0.75% Risk ($75)</th>
                            <th>1.0% Risk ($100)</th>
                            <th>Potential Profit (1:3)</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Full Width: Daily/Weekly Tracker -->
        <div class="card">
            <h2>üìà Daily Risk Tracker</h2>
            <div class="input-group">
                <label for="tradesPlanned">Number of Trades Planned Today</label>
                <input type="number" id="tradesPlanned" value="3" min="1" max="10" step="1">
            </div>
            <button class="btn" onclick="calculateDailyRisk()">Calculate Daily Risk Exposure</button>
            
            <div id="dailyRiskResults" class="results" style="display:none;">
                <div class="result-item">
                    <span class="result-label">Trades Planned:</span>
                    <span class="result-value" id="numTrades">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Total Risk Exposure:</span>
                    <span class="result-value large" id="totalRisk">$0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Daily Loss Buffer Remaining:</span>
                    <span class="result-value" id="buffer">$0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Max Consecutive Losses Allowed:</span>
                    <span class="result-value" id="maxLosses">0</span>
                </div>
            </div>
            
            <div id="dailyMessage"></div>
        </div>
    </div>
    
    <script>
        // Initialize on page load
        window.onload = function() {
            calculate();
            generatePositionTable();
        };
        
        function setRisk(percent) {
            document.getElementById('riskPercent').value = percent;
            // Update active button
            const buttons = document.querySelectorAll('.quick-buttons .quick-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            calculate();
        }
        
        function setStopLoss(pips) {
            document.getElementById('stopLossPips').value = pips;
            calculate();
        }
        
        function calculate() {
            const balance = parseFloat(document.getElementById('accountBalance').value);
            const riskPercent = parseFloat(document.getElementById('riskPercent').value);
            const stopLoss = parseFloat(document.getElementById('stopLossPips').value);
            const riskReward = parseFloat(document.getElementById('riskReward').value);
            
            // Calculate risk amount
            const riskAmount = (balance * riskPercent) / 100;
            
            // Calculate lot size for EUR/USD
            // Formula: Risk $ / (Stop Loss Pips √ó $10 per pip per lot)
            const lotSize = riskAmount / (stopLoss * 10);
            
            // Calculate take profit
            const takeProfitPips = stopLoss * riskReward;
            
            // Calculate potential profit
            const potentialProfit = takeProfitPips * lotSize * 10;
            
            // Display results
            document.getElementById('riskAmount').textContent = `$${riskAmount.toFixed(2)}`;
            document.getElementById('lotSize').textContent = `${lotSize.toFixed(2)} lots`;
            document.getElementById('takeProfitPips').textContent = `${takeProfitPips.toFixed(0)} pips`;
            document.getElementById('potentialProfit').textContent = `$${potentialProfit.toFixed(2)}`;
            
            document.getElementById('results').style.display = 'block';
            
            // Show appropriate message
            let messageDiv = document.getElementById('message');
            messageDiv.innerHTML = '';
            
            if (riskPercent > 1) {
                messageDiv.innerHTML = '<div class="danger"><strong>‚ö†Ô∏è Warning:</strong> Risk exceeds 1% per trade. This is above recommended maximum for prop challenges.</div>';
            } else if (riskPercent <= 0.5) {
                messageDiv.innerHTML = '<div class="success"><strong>‚úÖ Excellent:</strong> Conservative risk management. Perfect for prop firm challenges.</div>';
            } else {
                messageDiv.innerHTML = '<div class="warning"><strong>‚ö° Moderate Risk:</strong> Acceptable for experienced funded traders only.</div>';
            }
            
            // Update prop firm limits
            const dailyLossLimit = balance * 0.05;
            const maxLossLimit = balance * 0.10;
            const balanceFloor = balance * 0.90;
            
            document.getElementById('dailyLoss').textContent = `$${dailyLossLimit.toFixed(2)}`;
            document.getElementById('maxLoss').textContent = `$${maxLossLimit.toFixed(2)}`;
            document.getElementById('balanceFloor').textContent = `$${balanceFloor.toFixed(2)}`;
        }
        
        function generateTradeExample() {
            const entryPrice = parseFloat(document.getElementById('entryPrice').value);
            const direction = document.getElementById('direction').value;
            const stopLossPips = parseFloat(document.getElementById('stopLossPips').value);
            const riskReward = parseFloat(document.getElementById('riskReward').value);
            const balance = parseFloat(document.getElementById('accountBalance').value);
            const riskPercent = parseFloat(document.getElementById('riskPercent').value);
            
            const riskAmount = (balance * riskPercent) / 100;
            const lotSize = riskAmount / (stopLossPips * 10);
            const takeProfitPips = stopLossPips * riskReward;
            const potentialProfit = takeProfitPips * lotSize * 10;
            
            let stopPrice, targetPrice;
            
            if (direction === 'buy') {
                stopPrice = entryPrice - (stopLossPips * 0.0001);
                targetPrice = entryPrice + (takeProfitPips * 0.0001);
            } else {
                stopPrice = entryPrice + (stopLossPips * 0.0001);
                targetPrice = entryPrice - (takeProfitPips * 0.0001);
            }
            
            document.getElementById('exEntry').textContent = entryPrice.toFixed(4);
            document.getElementById('exStop').textContent = stopPrice.toFixed(4);
            document.getElementById('exTarget').textContent = targetPrice.toFixed(4);
            document.getElementById('exLotSize').textContent = `${lotSize.toFixed(2)} lots`;
            document.getElementById('exMaxLoss').textContent = `$${riskAmount.toFixed(2)}`;
            document.getElementById('exMaxProfit').textContent = `$${potentialProfit.toFixed(2)}`;
            
            document.getElementById('tradeExample').style.display = 'block';
        }
        
        function generatePositionTable() {
            const stops = [10, 15, 20, 25, 30, 35, 40];
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            
            stops.forEach(stop => {
                const row = tbody.insertRow();
                
                const cellStop = row.insertCell(0);
                cellStop.textContent = `${stop} pips`;
                
                // 0.5% risk
                const lot50 = 50 / (stop * 10);
                const cellRisk50 = row.insertCell(1);
                cellRisk50.textContent = `${lot50.toFixed(2)} lots`;
                
                // 0.75% risk
                const lot75 = 75 / (stop * 10);
                const cellRisk75 = row.insertCell(2);
                cellRisk75.textContent = `${lot75.toFixed(2)} lots`;
                
                // 1% risk
                const lot100 = 100 / (stop * 10);
                const cellRisk100 = row.insertCell(3);
                cellRisk100.textContent = `${lot100.toFixed(2)} lots`;
                
                // Potential profit (1:3)
                const profit = (stop * 3) * lot50 * 10;
                const cellProfit = row.insertCell(4);
                cellProfit.textContent = `$${profit.toFixed(2)}`;
            });
        }
        
        function calculateDailyRisk() {
            const balance = parseFloat(document.getElementById('accountBalance').value);
            const riskPercent = parseFloat(document.getElementById('riskPercent').value);
            const tradesPlanned = parseInt(document.getElementById('tradesPlanned').value);
            
            const riskPerTrade = (balance * riskPercent) / 100;
            const totalRiskExposure = riskPerTrade * tradesPlanned;
            const dailyLossLimit = balance * 0.05;
            const buffer = dailyLossLimit - totalRiskExposure;
            const maxConsecutiveLosses = Math.floor(dailyLossLimit / riskPerTrade);
            
            document.getElementById('numTrades').textContent = tradesPlanned;
            document.getElementById('totalRisk').textContent = `$${totalRiskExposure.toFixed(2)}`;
            document.getElementById('buffer').textContent = `$${buffer.toFixed(2)}`;
            document.getElementById('maxLosses').textContent = `${maxConsecutiveLosses} trades`;
            
            document.getElementById('dailyRiskResults').style.display = 'block';
            
            let messageDiv = document.getElementById('dailyMessage');
            messageDiv.innerHTML = '';
            
            if (totalRiskExposure > dailyLossLimit) {
                messageDiv.innerHTML = '<div class="danger"><strong>üö® DANGER:</strong> Total risk exposure exceeds daily loss limit! Reduce number of trades.</div>';
            } else if (totalRiskExposure > dailyLossLimit * 0.7) {
                messageDiv.innerHTML = '<div class="warning"><strong>‚ö†Ô∏è Warning:</strong> Total risk exposure is high. Leave buffer for unexpected events.</div>';
            } else {
                messageDiv.innerHTML = '<div class="success"><strong>‚úÖ Safe:</strong> Daily risk exposure is within acceptable limits. Good risk management!</div>';
            }
        }
        
        function updateTradeExample() {
            // Auto-update when direction changes
            if (document.getElementById('tradeExample').style.display === 'block') {
                generateTradeExample();
            }
        }
    </script>
</body>
</html>
